{"title":"JavaEE-序列化和反序列化","uid":"83b6c2550820553f88f46482ca935e4b","slug":"Java-序列化与反序列化","date":"2025-05-17T07:05:36.238Z","updated":"2025-05-17T07:44:26.419Z","comments":true,"path":"api/articles/Java-序列化与反序列化.json","cover":"https://myhaoblog.oss-cn-beijing.aliyuncs.com/blog%20%E5%9B%BE%E7%89%87/5a2feebf-6337-4e42-bbe7-5fe43ef7aca4.jpg","content":"<h1 id=\"Java-序列化与反序列化\"><a href=\"#Java-序列化与反序列化\" class=\"headerlink\" title=\"Java-序列化与反序列化\"></a>Java-序列化与反序列化</h1><p>序列化和反序列化的应用：</p>\n<p>两个进程在远程通信时，可以发送多种数据，包括文本、图片、音频、视频等，这些数据都是以二进制序列的形式在网络上传输。</p>\n<p>java 是面向对象的开发方式，一切都是 java 对象，想要在网络中传输 java 对象，可以使用序列化和反序列化去实现，发送发需要将 java 对象转换为字节序列，然后在网络上传送，接收方收到字符序列后，会通过反序列化将字节序列恢复成 java 对象。</p>\n<p>java 序列化的优点：</p>\n<ul>\n<li>实现了数据的持久化，通过序列化可以把数据持久地保存在硬盘上 (磁盘文件)。</li>\n<li>利用序列化实现远程通信，在网络上传输字节序列</li>\n</ul>\n<p><strong>原生序列化操作</strong></p>\n<div class=\"language-java\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">java</span><pre class=\"shiki dracula-soft\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #F286C4\">import</span><span style=\"color: #F6F6F4\"> java.io.</span><span style=\"color: #BF9EEE; font-style: italic\">*</span><span style=\"color: #F6F6F4\">;</span></span>\n<span class=\"line\"><span style=\"color: #F6F6F4\"> </span></span>\n<span class=\"line\"><span style=\"color: #F286C4\">public</span><span style=\"color: #F6F6F4\"> </span><span style=\"color: #F286C4\">class</span><span style=\"color: #F6F6F4\"> </span><span style=\"color: #97E1F1\">Main</span><span style=\"color: #F6F6F4\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #F6F6F4\">    </span><span style=\"color: #F286C4\">public</span><span style=\"color: #F6F6F4\"> </span><span style=\"color: #F286C4\">static</span><span style=\"color: #F6F6F4\"> </span><span style=\"color: #97E1F1; font-style: italic\">void</span><span style=\"color: #F6F6F4\"> </span><span style=\"color: #62E884\">main</span><span style=\"color: #F6F6F4\">(</span><span style=\"color: #97E1F1; font-style: italic\">String</span><span style=\"color: #F6F6F4\">[] </span><span style=\"color: #FFB86C; font-style: italic\">args</span><span style=\"color: #F6F6F4\">) </span><span style=\"color: #F286C4\">throws</span><span style=\"color: #F6F6F4\"> </span><span style=\"color: #97E1F1; font-style: italic\">IOException</span><span style=\"color: #F6F6F4\"> &#123;</span></span>\n<span class=\"line\"><span style=\"color: #F6F6F4\">        </span><span style=\"color: #97E1F1; font-style: italic\">Person</span><span style=\"color: #F6F6F4\"> p </span><span style=\"color: #F286C4\">=</span><span style=\"color: #F6F6F4\"> </span><span style=\"color: #F286C4; font-weight: bold\">new</span><span style=\"color: #F6F6F4\"> </span><span style=\"color: #62E884\">Person</span><span style=\"color: #F6F6F4\">(</span><span style=\"color: #DEE492\">&quot;</span><span style=\"color: #E7EE98\">haohao</span><span style=\"color: #DEE492\">&quot;</span><span style=\"color: #F6F6F4\">, </span><span style=\"color: #BF9EEE\">18</span><span style=\"color: #F6F6F4\">, </span><span style=\"color: #BF9EEE\">14</span><span style=\"color: #F6F6F4\">);</span></span>\n<span class=\"line\"><span style=\"color: #F6F6F4\">        System.out.</span><span style=\"color: #62E884\">println</span><span style=\"color: #F6F6F4\">(p);</span></span>\n<span class=\"line\"><span style=\"color: #F6F6F4\">        </span><span style=\"color: #62E884\">SerializableDeamo</span><span style=\"color: #F6F6F4\">(p);</span></span>\n<span class=\"line\"><span style=\"color: #F6F6F4\">    &#125;</span></span>\n<span class=\"line\"><span style=\"color: #F6F6F4\">    </span><span style=\"color: #F286C4\">public</span><span style=\"color: #F6F6F4\"> </span><span style=\"color: #F286C4\">static</span><span style=\"color: #F6F6F4\"> </span><span style=\"color: #97E1F1; font-style: italic\">void</span><span style=\"color: #F6F6F4\"> </span><span style=\"color: #62E884\">SerializableDeamo</span><span style=\"color: #F6F6F4\">(</span><span style=\"color: #97E1F1; font-style: italic\">Person</span><span style=\"color: #F6F6F4\"> </span><span style=\"color: #FFB86C; font-style: italic\">obj</span><span style=\"color: #F6F6F4\">) </span><span style=\"color: #F286C4\">throws</span><span style=\"color: #F6F6F4\"> </span><span style=\"color: #97E1F1; font-style: italic\">IOException</span><span style=\"color: #F6F6F4\"> &#123;</span></span>\n<span class=\"line\"><span style=\"color: #F6F6F4\">        </span><span style=\"color: #7B7F8B\">//FileOutputStream()输出文件</span></span>\n<span class=\"line\"><span style=\"color: #F6F6F4\">        </span><span style=\"color: #7B7F8B\">//将对象obj序列化后输出到文件person.txt</span></span>\n<span class=\"line\"><span style=\"color: #F6F6F4\">        </span><span style=\"color: #97E1F1; font-style: italic\">ObjectOutputStream</span><span style=\"color: #F6F6F4\"> oos </span><span style=\"color: #F286C4\">=</span><span style=\"color: #F6F6F4\"> </span><span style=\"color: #F286C4; font-weight: bold\">new</span><span style=\"color: #F6F6F4\"> </span><span style=\"color: #62E884\">ObjectOutputStream</span><span style=\"color: #F6F6F4\">(</span><span style=\"color: #F286C4; font-weight: bold\">new</span><span style=\"color: #F6F6F4\"> </span><span style=\"color: #62E884\">FileOutputStream</span><span style=\"color: #F6F6F4\">(</span><span style=\"color: #DEE492\">&quot;</span><span style=\"color: #E7EE98\">person.txt</span><span style=\"color: #DEE492\">&quot;</span><span style=\"color: #F6F6F4\">));</span></span>\n<span class=\"line\"><span style=\"color: #F6F6F4\">        oos.</span><span style=\"color: #62E884\">writeObject</span><span style=\"color: #F6F6F4\">(obj);</span></span>\n<span class=\"line\"><span style=\"color: #F6F6F4\">    &#125;</span></span>\n<span class=\"line\"><span style=\"color: #F6F6F4\">&#125;</span></span></code></pre></div><p>Person.java</p>\n<div class=\"language-java\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">java</span><pre class=\"shiki dracula-soft\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #F286C4\">public</span><span style=\"color: #F6F6F4\"> </span><span style=\"color: #F286C4\">class</span><span style=\"color: #F6F6F4\"> </span><span style=\"color: #97E1F1\">Person</span><span style=\"color: #F6F6F4\">  &#123;</span></span>\n<span class=\"line\"><span style=\"color: #F6F6F4\">    </span><span style=\"color: #F286C4\">private</span><span style=\"color: #F6F6F4\"> </span><span style=\"color: #97E1F1; font-style: italic\">String</span><span style=\"color: #F6F6F4\"> name;</span></span>\n<span class=\"line\"><span style=\"color: #F6F6F4\">    </span><span style=\"color: #F286C4\">private</span><span style=\"color: #F6F6F4\"> </span><span style=\"color: #97E1F1; font-style: italic\">int</span><span style=\"color: #F6F6F4\"> age;</span></span>\n<span class=\"line\"><span style=\"color: #F6F6F4\">    </span><span style=\"color: #F286C4\">private</span><span style=\"color: #F6F6F4\"> </span><span style=\"color: #97E1F1; font-style: italic\">String</span><span style=\"color: #F6F6F4\"> years;</span></span>\n<span class=\"line\"><span style=\"color: #F6F6F4\"> </span></span>\n<span class=\"line\"><span style=\"color: #F6F6F4\">    </span><span style=\"color: #F286C4\">public</span><span style=\"color: #F6F6F4\"> </span><span style=\"color: #62E884\">Person</span><span style=\"color: #F6F6F4\">(</span><span style=\"color: #97E1F1; font-style: italic\">String</span><span style=\"color: #F6F6F4\"> </span><span style=\"color: #FFB86C; font-style: italic\">name</span><span style=\"color: #F6F6F4\">, </span><span style=\"color: #97E1F1; font-style: italic\">int</span><span style=\"color: #F6F6F4\"> </span><span style=\"color: #FFB86C; font-style: italic\">age</span><span style=\"color: #F6F6F4\">, </span><span style=\"color: #97E1F1; font-style: italic\">int</span><span style=\"color: #F6F6F4\"> </span><span style=\"color: #FFB86C; font-style: italic\">years</span><span style=\"color: #F6F6F4\">) &#123;</span></span>\n<span class=\"line\"><span style=\"color: #F6F6F4\">        </span><span style=\"color: #BF9EEE; font-style: italic\">this</span><span style=\"color: #F6F6F4\">.name </span><span style=\"color: #F286C4\">=</span><span style=\"color: #F6F6F4\"> name;</span></span>\n<span class=\"line\"><span style=\"color: #F6F6F4\">        </span><span style=\"color: #BF9EEE; font-style: italic\">this</span><span style=\"color: #F6F6F4\">.age </span><span style=\"color: #F286C4\">=</span><span style=\"color: #F6F6F4\"> age;</span></span>\n<span class=\"line\"><span style=\"color: #F6F6F4\">        </span><span style=\"color: #BF9EEE; font-style: italic\">this</span><span style=\"color: #F6F6F4\">.age </span><span style=\"color: #F286C4\">=</span><span style=\"color: #F6F6F4\"> years;</span></span>\n<span class=\"line\"><span style=\"color: #F6F6F4\">        System.out.</span><span style=\"color: #62E884\">println</span><span style=\"color: #F6F6F4\">(name </span><span style=\"color: #F286C4\">+</span><span style=\"color: #F6F6F4\"> </span><span style=\"color: #DEE492\">&quot;</span><span style=\"color: #E7EE98\"> </span><span style=\"color: #DEE492\">&quot;</span><span style=\"color: #F6F6F4\"> </span><span style=\"color: #F286C4\">+</span><span style=\"color: #F6F6F4\"> age </span><span style=\"color: #F286C4\">+</span><span style=\"color: #F6F6F4\"> </span><span style=\"color: #DEE492\">&quot;</span><span style=\"color: #E7EE98\"> </span><span style=\"color: #DEE492\">&quot;</span><span style=\"color: #F6F6F4\"> </span><span style=\"color: #F286C4\">+</span><span style=\"color: #F6F6F4\"> years);</span></span>\n<span class=\"line\"><span style=\"color: #F6F6F4\">    &#125;</span></span>\n<span class=\"line\"><span style=\"color: #F6F6F4\"> </span></span>\n<span class=\"line\"><span style=\"color: #F6F6F4\"> </span></span>\n<span class=\"line\"><span style=\"color: #F6F6F4\">    </span><span style=\"color: #F286C4\">public</span><span style=\"color: #F6F6F4\"> </span><span style=\"color: #97E1F1; font-style: italic\">String</span><span style=\"color: #F6F6F4\"> </span><span style=\"color: #62E884\">toString</span><span style=\"color: #F6F6F4\">() &#123;</span></span>\n<span class=\"line\"><span style=\"color: #F6F6F4\">        </span><span style=\"color: #97E1F1; font-style: italic\">String</span><span style=\"color: #F6F6F4\"> s </span><span style=\"color: #F286C4\">=</span><span style=\"color: #F6F6F4\"> </span><span style=\"color: #DEE492\">&quot;</span><span style=\"color: #E7EE98\">Name: </span><span style=\"color: #DEE492\">&quot;</span><span style=\"color: #F6F6F4\"> </span><span style=\"color: #F286C4\">+</span><span style=\"color: #F6F6F4\"> name </span><span style=\"color: #F286C4\">+</span><span style=\"color: #F6F6F4\"> </span><span style=\"color: #DEE492\">&quot;</span><span style=\"color: #E7EE98\"> Age: </span><span style=\"color: #DEE492\">&quot;</span><span style=\"color: #F6F6F4\"> </span><span style=\"color: #F286C4\">+</span><span style=\"color: #F6F6F4\"> age </span><span style=\"color: #F286C4\">+</span><span style=\"color: #F6F6F4\"> </span><span style=\"color: #DEE492\">&quot;</span><span style=\"color: #E7EE98\"> Years: </span><span style=\"color: #DEE492\">&quot;</span><span style=\"color: #F6F6F4\"> </span><span style=\"color: #F286C4\">+</span><span style=\"color: #F6F6F4\"> age;</span></span>\n<span class=\"line\"><span style=\"color: #F6F6F4\">        </span><span style=\"color: #F286C4\">return</span><span style=\"color: #F6F6F4\"> s;</span></span>\n<span class=\"line\"><span style=\"color: #F6F6F4\">    &#125;</span></span>\n<span class=\"line\"><span style=\"color: #F6F6F4\"> </span></span>\n<span class=\"line\"><span style=\"color: #F6F6F4\">&#125;</span></span></code></pre></div><p><strong>反序列化:</strong></p>\n<div class=\"language-java\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">java</span><pre class=\"shiki dracula-soft\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #F286C4\">import</span><span style=\"color: #F6F6F4\"> java.io.FileInputStream;</span></span>\n<span class=\"line\"><span style=\"color: #F286C4\">import</span><span style=\"color: #F6F6F4\"> java.io.IOException;</span></span>\n<span class=\"line\"><span style=\"color: #F286C4\">import</span><span style=\"color: #F6F6F4\"> java.io.ObjectInputStream;</span></span>\n<span class=\"line\"><span style=\"color: #F6F6F4\"> </span></span>\n<span class=\"line\"><span style=\"color: #F286C4\">public</span><span style=\"color: #F6F6F4\"> </span><span style=\"color: #F286C4\">class</span><span style=\"color: #F6F6F4\"> </span><span style=\"color: #97E1F1\">UnserializableDemo</span><span style=\"color: #F6F6F4\"> &#123;</span></span>\n<span class=\"line\"><span style=\"color: #F6F6F4\">    </span><span style=\"color: #F286C4\">public</span><span style=\"color: #F6F6F4\"> </span><span style=\"color: #F286C4\">static</span><span style=\"color: #F6F6F4\"> </span><span style=\"color: #97E1F1; font-style: italic\">void</span><span style=\"color: #F6F6F4\"> </span><span style=\"color: #62E884\">main</span><span style=\"color: #F6F6F4\">(</span><span style=\"color: #97E1F1; font-style: italic\">String</span><span style=\"color: #F6F6F4\">[] </span><span style=\"color: #FFB86C; font-style: italic\">args</span><span style=\"color: #F6F6F4\">) </span><span style=\"color: #F286C4\">throws</span><span style=\"color: #F6F6F4\"> </span><span style=\"color: #97E1F1; font-style: italic\">IOException</span><span style=\"color: #F6F6F4\">, </span><span style=\"color: #97E1F1; font-style: italic\">ClassNotFoundException</span><span style=\"color: #F6F6F4\"> &#123;</span></span>\n<span class=\"line\"><span style=\"color: #F6F6F4\">        </span><span style=\"color: #97E1F1; font-style: italic\">Object</span><span style=\"color: #F6F6F4\"> obj </span><span style=\"color: #F286C4\">=</span><span style=\"color: #F6F6F4\"> </span><span style=\"color: #62E884\">unserializeTest</span><span style=\"color: #F6F6F4\">(</span><span style=\"color: #DEE492\">&quot;</span><span style=\"color: #E7EE98\">person.txt</span><span style=\"color: #DEE492\">&quot;</span><span style=\"color: #F6F6F4\">);</span></span>\n<span class=\"line\"><span style=\"color: #F6F6F4\">        System.out.</span><span style=\"color: #62E884\">println</span><span style=\"color: #F6F6F4\">(obj);</span></span>\n<span class=\"line\"><span style=\"color: #F6F6F4\">    &#125;</span></span>\n<span class=\"line\"><span style=\"color: #F6F6F4\"> </span></span>\n<span class=\"line\"><span style=\"color: #F6F6F4\">    </span><span style=\"color: #F286C4\">public</span><span style=\"color: #F6F6F4\"> </span><span style=\"color: #F286C4\">static</span><span style=\"color: #F6F6F4\"> </span><span style=\"color: #97E1F1; font-style: italic\">Object</span><span style=\"color: #F6F6F4\"> </span><span style=\"color: #62E884\">unserializeTest</span><span style=\"color: #F6F6F4\">(</span><span style=\"color: #97E1F1; font-style: italic\">String</span><span style=\"color: #F6F6F4\"> </span><span style=\"color: #FFB86C; font-style: italic\">filename</span><span style=\"color: #F6F6F4\">) </span><span style=\"color: #F286C4\">throws</span><span style=\"color: #F6F6F4\"> </span><span style=\"color: #97E1F1; font-style: italic\">IOException</span><span style=\"color: #F6F6F4\">, </span><span style=\"color: #97E1F1; font-style: italic\">ClassNotFoundException</span><span style=\"color: #F6F6F4\"> &#123;</span></span>\n<span class=\"line\"><span style=\"color: #F6F6F4\">        </span><span style=\"color: #F286C4\">try</span><span style=\"color: #F6F6F4\"> (</span><span style=\"color: #97E1F1; font-style: italic\">ObjectInputStream</span><span style=\"color: #F6F6F4\"> ois </span><span style=\"color: #F286C4\">=</span><span style=\"color: #F6F6F4\"> </span><span style=\"color: #F286C4; font-weight: bold\">new</span><span style=\"color: #F6F6F4\"> </span><span style=\"color: #62E884\">ObjectInputStream</span><span style=\"color: #F6F6F4\">(</span><span style=\"color: #F286C4; font-weight: bold\">new</span><span style=\"color: #F6F6F4\"> </span><span style=\"color: #62E884\">FileInputStream</span><span style=\"color: #F6F6F4\">(filename))) &#123;</span></span>\n<span class=\"line\"><span style=\"color: #F6F6F4\">            </span><span style=\"color: #F286C4\">return</span><span style=\"color: #F6F6F4\"> ois.</span><span style=\"color: #62E884\">readObject</span><span style=\"color: #F6F6F4\">();</span></span>\n<span class=\"line\"><span style=\"color: #F6F6F4\">        &#125;</span></span>\n<span class=\"line\"><span style=\"color: #F6F6F4\">    &#125;</span></span>\n<span class=\"line\"><span style=\"color: #F6F6F4\">&#125;</span></span></code></pre></div>","text":"Java-序列化与反序列化序列化和反序列化的应用： 两个进程在远程通信时，可以发送多种数据，包括文本、图片、音频、视频等，这些数据都是以二进制序列的形式在网络上...","permalink":"/post/Java-序列化与反序列化","photos":[],"count_time":{"symbolsCount":"2k","symbolsTime":"2 mins."},"categories":[{"name":"Java基础知识","slug":"Java基础知识","count":5,"path":"api/categories/Java基础知识.json"}],"tags":[{"name":"Java基础","slug":"Java基础","count":5,"path":"api/tags/Java基础.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#Java-%E5%BA%8F%E5%88%97%E5%8C%96%E4%B8%8E%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96\"><span class=\"toc-text\">Java-序列化与反序列化</span></a></li></ol>","author":{"name":"Hao","slug":"blog-author","avatar":"https://myhaoblog.oss-cn-beijing.aliyuncs.com/ppp/64966b30e1c9375e8dbb11146ea9c12f.jpg","link":"/","description":"山高自有客行路，水深自有渡船认 The future is like the sea and three will be a long time to come","socials":{"github":"https://github.com/isMyHao","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"https://www.zhihu.com/","csdn":"https://blog.csdn.net/2401_87971103?spm=1000.2115.3001.10640","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"Java-JNDI","uid":"35d0606ce30ad44ccc65a3edcc603a2c","slug":"Java-JNDI","date":"2025-05-17T07:08:06.640Z","updated":"2025-05-17T07:44:19.355Z","comments":true,"path":"api/articles/Java-JNDI.json","cover":"https://myhaoblog.oss-cn-beijing.aliyuncs.com/blog%20%E5%9B%BE%E7%89%87/4ed9d560-46f5-46ae-bf0a-04336ba9eb7b.jpg","text":"Java-JNDIJNDI 是什么JNDI（Java Naming and Directory Interface）是一个应用程序设计的 API，一种标准的 J...","permalink":"/post/Java-JNDI","photos":[],"count_time":{"symbolsCount":"2.2k","symbolsTime":"2 mins."},"categories":[{"name":"Java基础知识","slug":"Java基础知识","count":5,"path":"api/categories/Java基础知识.json"}],"tags":[{"name":"Java基础","slug":"Java基础","count":5,"path":"api/tags/Java基础.json"}],"author":{"name":"Hao","slug":"blog-author","avatar":"https://myhaoblog.oss-cn-beijing.aliyuncs.com/ppp/64966b30e1c9375e8dbb11146ea9c12f.jpg","link":"/","description":"山高自有客行路，水深自有渡船认 The future is like the sea and three will be a long time to come","socials":{"github":"https://github.com/isMyHao","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"https://www.zhihu.com/","csdn":"https://blog.csdn.net/2401_87971103?spm=1000.2115.3001.10640","juejin":"","customs":{}}}},"next_post":{"title":"JavaEE-JDBC","uid":"5266ba7c44bc6a4ce52e58d685fe4590","slug":"JavaEE-JDBC","date":"2025-05-17T06:54:49.885Z","updated":"2025-05-17T07:45:18.315Z","comments":true,"path":"api/articles/JavaEE-JDBC.json","cover":"https://myhaoblog.oss-cn-beijing.aliyuncs.com/blog%20%E5%9B%BE%E7%89%87/5b7d348c994a936d0558f984b4876189%281%29.jpg","text":"JavaEE-JDBC什么是 JDBC？Java 数据库连接，（Java Database Connectivity，简称 JDBC）是 Java 语言中用来规...","permalink":"/post/JavaEE-JDBC","photos":[],"count_time":{"symbolsCount":"2.1k","symbolsTime":"2 mins."},"categories":[{"name":"Java基础知识","slug":"Java基础知识","count":5,"path":"api/categories/Java基础知识.json"}],"tags":[{"name":"Java基础","slug":"Java基础","count":5,"path":"api/tags/Java基础.json"}],"author":{"name":"Hao","slug":"blog-author","avatar":"https://myhaoblog.oss-cn-beijing.aliyuncs.com/ppp/64966b30e1c9375e8dbb11146ea9c12f.jpg","link":"/","description":"山高自有客行路，水深自有渡船认 The future is like the sea and three will be a long time to come","socials":{"github":"https://github.com/isMyHao","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"https://www.zhihu.com/","csdn":"https://blog.csdn.net/2401_87971103?spm=1000.2115.3001.10640","juejin":"","customs":{}}}}}